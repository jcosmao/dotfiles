export PATH="$HOME/.local/bin:/usr/local/bin:$PATH"

if [[ ! -f ~/.zpm/zpm.zsh ]]; then
  git clone --recursive https://github.com/zpm-zsh/zpm ~/.zpm
fi
source ~/.zpm/zpm.zsh


zpm load @omz
zpm load @omz/wd,apply:source:path:fpath
zpm load @omz/lib/{history,completion,key-bindings,clipboard}
zpm load zsh-users/zsh-completions
zpm load zsh-users/zsh-autosuggestions
zpm load 3v1n0/zsh-bash-completions-fallback
zpm load zsh-users/zsh-syntax-highlighting,apply:fpath
source ~/.zpm/plugins/zsh-users---zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

for f in $(find ~/.shell/zsh -name '*.zsh'); do
    source $f
done

zpm load jcosmao/blox-zsh-theme
source ~/.zpm/plugins/jcosmao---blox-zsh-theme/blox.zsh

# ssh-agent ~/.shell/functions
if declare -f launch_ssh_agent &> /dev/null; then
    launch_ssh_agent
fi

# Set LS_COLORS
[[ -x $(which dircolors) ]] && eval $(dircolors -b $HOME/.dir_colors)

# completion color
zstyle ':completion:*' list-colors "${(@s.:.)LS_COLORS}"

# if we SSH then autolaunch default tmux session
#if [[ -n $SSH_TTY && -z $TMUX ]]; then
#    tm default
#fi
